<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftUI Layout and Stacks - Chapter 6</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            color: #333;
        }

        .container {
            display: flex;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            gap: 20px;
            padding: 20px;
        }

        .presentation-panel {
            flex: 1;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .simulator-panel {
            flex: 1;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            max-height: 800px;
        }

        .slide {
            display: none;
            padding: 40px;
            height: 100%;
            overflow-y: auto;
        }

        .slide.active {
            display: block;
        }

        .slide h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .slide h2 {
            color: #34495e;
            font-size: 1.8em;
            margin: 25px 0 15px 0;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        .slide h3 {
            color: #2c3e50;
            font-size: 1.3em;
            margin: 20px 0 10px 0;
        }

        .slide p {
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            border-left: 4px solid #667eea;
        }

        .highlight {
            background: rgba(102, 126, 234, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            color: #667eea;
        }

        .definition-box {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }

        .tip-box {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #fdcb6e;
        }

        .navigation {
            background: #2c3e50;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .nav-button:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }

        .slide-counter {
            color: white;
            font-size: 18px;
            font-weight: bold;
        }

        .simulator-header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
        }

        .code-editor {
            flex: 1;
            background: #2d3748;
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            border: none;
            padding: 20px;
            outline: none;
            resize: none;
        }

        .preview-area {
            background: #f7fafc;
            border-top: 2px solid #e2e8f0;
            padding: 20px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .phone-mockup {
            width: 200px;
            height: 400px;
            background: #000;
            border-radius: 25px;
            padding: 10px;
            position: relative;
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .vstack-demo, .hstack-demo, .zstack-demo {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }

        .vstack-demo {
            flex-direction: column;
            align-items: center;
        }

        .hstack-demo {
            flex-direction: row;
            align-items: center;
        }

        .zstack-demo {
            position: relative;
            width: 120px;
            height: 120px;
        }

        .demo-element {
            background: #667eea;
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            text-align: center;
        }

        .demo-element:nth-child(2) {
            background: #fd79a8;
        }

        .demo-element:nth-child(3) {
            background: #fdcb6e;
        }

        .zstack-demo .demo-element {
            position: absolute;
        }

        .zstack-demo .demo-element:nth-child(1) {
            top: 0;
            left: 0;
            width: 80px;
            height: 80px;
        }

        .zstack-demo .demo-element:nth-child(2) {
            top: 20px;
            left: 20px;
            width: 80px;
            height: 80px;
        }

        .zstack-demo .demo-element:nth-child(3) {
            top: 40px;
            left: 40px;
            width: 80px;
            height: 80px;
        }

        .keyword {
            color: #e06c75;
        }

        .string {
            color: #98c379;
        }

        .property {
            color: #61dafb;
        }

        .comment {
            color: #5c6370;
            font-style: italic;
        }

        /* LMS Styles for Slide 11 */
        .lms-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .lms-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
        }

        .settings-icon {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .settings-icon:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Security Modal */
        .security-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1001;
        }

        .security-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .security-header {
            background: #dc3545;
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }

        .security-header h3 {
            margin: 0;
            font-size: 1.3em;
        }

        .security-body {
            padding: 25px;
            text-align: center;
        }

        .security-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #856404;
            font-size: 14px;
            text-align: left;
        }

        .auth-form {
            margin: 20px 0;
        }

        .auth-input {
            width: 100%;
            padding: 12px 15px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .auth-input:focus {
            outline: none;
            border-color: #007bff;
        }

        .auth-input.error {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .auth-attempts {
            color: #dc3545;
            font-size: 12px;
            margin-top: 5px;
        }

        .security-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .auth-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .auth-btn:hover {
            background: #0056b3;
        }

        .auth-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .cancel-btn {
            background: #6c757d;
        }

        .cancel-btn:hover {
            background: #545b62;
        }

        .session-indicator {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid #28a745;
            border-radius: 6px;
            padding: 8px 12px;
            color: #155724;
            font-size: 12px;
            margin-left: 10px;
            display: none;
        }

        .session-warning {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            color: #856404;
        }

        .lockout-message {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            color: #721c24;
            margin: 15px 0;
            text-align: center;
        }
        .settings-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .settings-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .settings-header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 15px 15px 0 0;
        }

        .close-settings-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            padding: 15px;
        }

        .settings-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border-left: 3px solid #667eea;
        }

        .settings-section h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .settings-input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 10px;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
        }

        .settings-actions {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .settings-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }

        .save-settings-btn {
            background: #28a745;
            color: white;
        }

        .reset-settings-btn {
            background: #6c757d;
            color: white;
        }

        .export-settings-btn {
            background: #17a2b8;
            color: white;
        }

        /* Role Selection */
        .role-selection {
            text-align: center;
            padding: 30px 20px;
            background: #f8f9fa;
        }

        .role-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .role-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .role-button:hover {
            transform: translateY(-2px);
        }

        .student-role {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
        }

        .instructor-role {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
        }

        /* Quiz Access */
        .quiz-access {
            padding: 20px;
            text-align: center;
        }

        .access-container {
            max-width: 400px;
            margin: 0 auto;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
        }

        .quiz-status {
            background: #e9ecef;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 15px;
            font-size: 13px;
        }

        .status-open {
            background: #d4edda;
            color: #155724;
        }

        .status-closed {
            background: #f8d7da;
            color: #721c24;
        }

        .student-input {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        .quiz-info {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid #ddd;
            font-size: 13px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #f1f1f1;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .access-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
        }

        .access-btn:disabled {
            background: #6c757d;
        }

        /* Timer */
        .quiz-timer {
            background: #2c3e50;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
        }

        .timer-display {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .time-remaining {
            font-size: 18px;
            font-weight: bold;
        }

        .time-critical {
            color: #e74c3c;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Quiz Content */
        .quiz-content {
            padding: 20px;
            overflow-y: auto;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .quiz-progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }

        .progress-dots {
            display: flex;
            gap: 6px;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #e9ecef;
        }

        .progress-dot.answered {
            background: #28a745;
        }

        .progress-dot.current {
            background: #667eea;
        }

        .question-block {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .question-number {
            background: #667eea;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .option-label:hover {
            background: #f0f7ff;
            border-color: #667eea;
        }

        .option-label input[type="radio"] {
            margin-right: 10px;
        }

        .correct-answer {
            background: #d4edda !important;
            border-color: #28a745 !important;
        }

        .incorrect-answer {
            background: #f8d7da !important;
            border-color: #dc3545 !important;
        }

        /* Navigation */
        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-question-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .review-btn {
            background: #17a2b8;
            color: white;
        }

        .submit-btn {
            background: #28a745;
            color: white;
            padding: 10px 20px;
        }

        /* Results */
        .quiz-results {
            padding: 20px;
            text-align: center;
        }

        .score-display {
            font-size: 2em;
            font-weight: bold;
            margin: 15px 0;
        }

        .score-excellent { color: #28a745; }
        .score-good { color: #17a2b8; }
        .score-fair { color: #ffc107; }
        .score-poor { color: #dc3545; }

        .results-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        /* Instructor Dashboard */
        .instructor-dashboard {
            padding: 20px;
        }

        .dashboard-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
            color: #6c757d;
        }

        .tab-btn.active {
            background: #667eea;
            color: white;
            border-radius: 6px 6px 0 0;
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 1.8em;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.8em;
            opacity: 0.9;
        }

        .students-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #ddd;
        }

        .students-table table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .students-table th {
            background: #2c3e50;
            color: white;
            padding: 10px;
            text-align: left;
        }

        .students-table td {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 15px;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            font-size: 14px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #dc3545;
        }

        .notification.warning {
            background: #ffc107;
            color: #212529;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 10px;
            }
            
            .role-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .analytics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .quiz-navigation {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Presentation Panel -->
        <div class="presentation-panel">
            <!-- Slide 1: Introduction -->
            <div class="slide active">
                <h1>SwiftUI Layout and Stacks</h1>
                <h2>Chapter 6: Building Beautiful User Interfaces</h2>
                
                <div class="definition-box">
                    <h3>What are Stacks?</h3>
                    <p><strong>Stacks</strong> are fundamental layout containers in SwiftUI that arrange views in specific patterns. Think of them as invisible boxes that organize your app's content.</p>
                </div>

                <h2>Three Main Types of Stacks:</h2>
                <p><span class="highlight">VStack</span> - Arranges views vertically (top to bottom)</p>
                <p><span class="highlight">HStack</span> - Arranges views horizontally (left to right)</p>
                <p><span class="highlight">ZStack</span> - Overlaps views on top of each other</p>

                <div class="tip-box">
                    <strong>💡 Tip:</strong> Stacks are like building blocks - you can combine them to create complex layouts!
                </div>

                <h2>Learning Objectives:</h2>
                <p>• Understand how to use VStack, HStack, and ZStack</p>
                <p>• Learn about alignment and spacing</p>
                <p>• Practice building complex layouts</p>
                <p>• Create beautiful, responsive user interfaces</p>
            </div>

            <!-- Slide 2: VStack Basics -->
            <div class="slide">
                <h1>VStack - Vertical Layouts</h1>
                
                <div class="definition-box">
                    <h3>What is VStack?</h3>
                    <p><strong>VStack</strong> arranges its child views in a vertical line, one below the other. It's perfect for creating forms, lists, or any vertical layout.</p>
                </div>

                <h2>Basic VStack Syntax:</h2>
                <div class="code-block">
<span class="keyword">VStack</span> {<br>
    <span class="keyword">Text</span>(<span class="string">"First Item"</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Second Item"</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Third Item"</span>)<br>
}
                </div>

                <h2>VStack with Spacing:</h2>
                <div class="code-block">
<span class="keyword">VStack</span>(<span class="property">spacing</span>: <span class="string">20</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Item 1"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Item 2"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Item 3"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <div class="tip-box">
                    <strong>💡 Remember:</strong> Spacing is measured in points. Try different values like 10, 20, or 30 to see the difference!
                </div>

                <h2>Key Properties:</h2>
                <p><span class="highlight">spacing</span> - Controls the gap between views</p>
                <p><span class="highlight">alignment</span> - Controls how views align horizontally</p>
            </div>

            <!-- Slide 3: VStack Alignment -->
            <div class="slide">
                <h1>VStack Alignment Options</h1>
                
                <h2>Horizontal Alignment in VStack:</h2>
                <p>Since VStack arranges views vertically, alignment controls how they line up horizontally.</p>

                <h3>Leading Alignment:</h3>
                <div class="code-block">
<span class="keyword">VStack</span>(<span class="property">alignment</span>: .<span class="property">leading</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Short"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Medium Text"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"This is a longer text"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <h3>Center Alignment (Default):</h3>
                <div class="code-block">
<span class="keyword">VStack</span>(<span class="property">alignment</span>: .<span class="property">center</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Short"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Medium Text"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"This is a longer text"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <h3>Trailing Alignment:</h3>
                <div class="code-block">
<span class="keyword">VStack</span>(<span class="property">alignment</span>: .<span class="property">trailing</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Short"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Medium Text"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"This is a longer text"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <div class="definition-box">
                    <h3>Alignment Values:</h3>
                    <p><strong>.leading</strong> - Aligns to the left (in left-to-right languages)</p>
                    <p><strong>.center</strong> - Centers the views (default)</p>
                    <p><strong>.trailing</strong> - Aligns to the right (in left-to-right languages)</p>
                </div>
            </div>

            <!-- Slide 4: HStack Basics -->
            <div class="slide">
                <h1>HStack - Horizontal Layouts</h1>
                
                <div class="definition-box">
                    <h3>What is HStack?</h3>
                    <p><strong>HStack</strong> arranges its child views in a horizontal line, side by side. Perfect for creating navigation bars, buttons in a row, or any horizontal layout.</p>
                </div>

                <h2>Basic HStack Syntax:</h2>
                <div class="code-block">
<span class="keyword">HStack</span> {<br>
    <span class="keyword">Text</span>(<span class="string">"Left"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Center"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Right"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <h2>HStack with Spacing:</h2>
                <div class="code-block">
<span class="keyword">HStack</span>(<span class="property">spacing</span>: <span class="string">15</span>) {<br>
    <span class="keyword">Button</span>(<span class="string">"Cancel"</span>) {<br>
        <span class="comment">// Cancel action</span><br>
    }<br>
    .<span class="property">padding</span>()<br>
    .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">gray</span>)<br>
    .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
    .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Button</span>(<span class="string">"Save"</span>) {<br>
        <span class="comment">// Save action</span><br>
    }<br>
    .<span class="property">padding</span>()<br>
    .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
    .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
    .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <h2>HStack Alignment (Vertical):</h2>
                <div class="code-block">
<span class="keyword">HStack</span>(<span class="property">alignment</span>: .<span class="property">top</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Short"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"This is a\nmulti-line\ntext"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"End"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <div class="tip-box">
                    <strong>💡 Key Difference:</strong> In HStack, alignment controls vertical positioning since views are arranged horizontally!
                </div>
            </div>

            <!-- Slide 5: HStack Alignment and Spacer -->
            <div class="slide">
                <h1>HStack Advanced Features</h1>
                
                <h2>Vertical Alignment Options:</h2>
                
                <h3>Top Alignment:</h3>
                <div class="code-block">
<span class="keyword">HStack</span>(<span class="property">alignment</span>: .<span class="property">top</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Top"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Aligned"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <h3>Center Alignment (Default):</h3>
                <div class="code-block">
<span class="keyword">HStack</span>(<span class="property">alignment</span>: .<span class="property">center</span>) {<br>
    <span class="keyword">Text</span>(<span class="string">"Center"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Aligned"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <h2>Using Spacer for Layout:</h2>
                <div class="code-block">
<span class="keyword">HStack</span> {<br>
    <span class="keyword">Text</span>(<span class="string">"Left"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Spacer</span>() <span class="comment">// Pushes items apart</span><br>
    
    <span class="keyword">Text</span>(<span class="string">"Right"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>

                <div class="definition-box">
                    <h3>What is Spacer?</h3>
                    <p><strong>Spacer()</strong> is a flexible space that expands to push other views apart. It's like a spring that fills available space.</p>
                </div>

                <h2>Multiple Spacers:</h2>
                <div class="code-block">
<span class="keyword">HStack</span> {<br>
    <span class="keyword">Text</span>(<span class="string">"Left"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Spacer</span>()<br>
    
    <span class="keyword">Text</span>(<span class="string">"Center"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">green</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Spacer</span>()<br>
    
    <span class="keyword">Text</span>(<span class="string">"Right"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">orange</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
}
                </div>
            </div>

            <!-- Slide 6: ZStack Basics -->
            <div class="slide">
                <h1>ZStack - Overlapping Layouts</h1>
                
                <div class="definition-box">
                    <h3>What is ZStack?</h3>
                    <p><strong>ZStack</strong> layers views on top of each other along the Z-axis (depth). The first view is at the back, and subsequent views are layered on top.</p>
                </div>

                <h2>Basic ZStack Syntax:</h2>
                <div class="code-block">
<span class="keyword">ZStack</span> {<br>
    <span class="keyword">Rectangle</span>()<br>
        .<span class="property">fill</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">frame</span>(<br>
            <span class="property">width</span>: <span class="string">100</span>,<br>
            <span class="property">height</span>: <span class="string">100</span><br>
        )<br>
        .<span class="property">cornerRadius</span>(<span class="string">15</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Hello"</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">font</span>(.<span class="property">headline</span>)<br>
}
                </div>

                <h2>ZStack with Alignment:</h2>
                <div class="code-block">
<span class="keyword">ZStack</span>(<span class="property">alignment</span>: .<span class="property">topLeading</span>) {<br>
    <span class="keyword">Rectangle</span>()<br>
        .<span class="property">fill</span>(<br>
            <span class="keyword">Color</span>.<span class="property">gray</span>.<span class="property">opacity</span>(<span class="string">0.3</span>)<br>
        )<br>
        .<span class="property">frame</span>(<br>
            <span class="property">width</span>: <span class="string">200</span>,<br>
            <span class="property">height</span>: <span class="string">150</span><br>
        )<br>
        .<span class="property">cornerRadius</span>(<span class="string">15</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Top Left"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">font</span>(.<span class="property">headline</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">blue</span>)<br>
}
                </div>

                <div class="tip-box">
                    <strong>💡 Layer Order:</strong> Views are layered in the order they appear in code. Later views appear on top!
                </div>

                <h2>Common ZStack Alignments:</h2>
                <p><span class="highlight">.center</span> - Centers all views (default)</p>
                <p><span class="highlight">.topLeading</span> - Aligns to top-left corner</p>
                <p><span class="highlight">.bottomTrailing</span> - Aligns to bottom-right corner</p>
            </div>

            <!-- Slide 7: ZStack Advanced Usage -->
            <div class="slide">
                <h1>ZStack Advanced Techniques</h1>
                
                <h2>Creating Card Layouts:</h2>
                <div class="code-block">
<span class="keyword">ZStack</span> {<br>
    <span class="keyword">RoundedRectangle</span>(<span class="property">cornerRadius</span>: <span class="string">15</span>)<br>
        .<span class="property">fill</span>(<span class="keyword">Color</span>.<span class="property">white</span>)<br>
        .<span class="property">shadow</span>(<span class="property">radius</span>: <span class="string">5</span>)<br>
    
    <span class="keyword">VStack</span>(<span class="property">spacing</span>: <span class="string">8</span>) {<br>
        <span class="keyword">Text</span>(<span class="string">"Card Title"</span>)<br>
            .<span class="property">font</span>(.<span class="property">headline</span>)<br>
            .<span class="property">foregroundColor</span>(.<span class="property">primary</span>)<br>
        
        <span class="keyword">Text</span>(<span class="string">"Card content goes here"</span>)<br>
            .<span class="property">font</span>(.<span class="property">caption</span>)<br>
            .<span class="property">foregroundColor</span>(.<span class="property">secondary</span>)<br>
            .<span class="property">multilineTextAlignment</span>(.<span class="property">center</span>)<br>
    }<br>
    .<span class="property">padding</span>()<br>
}<br>
.<span class="property">frame</span>(<br>
    <span class="property">width</span>: <span class="string">200</span>,<br>
    <span class="property">height</span>: <span class="string">120</span><br>
)
                </div>

                <h2>Background Images with Text:</h2>
                <div class="code-block">
<span class="keyword">ZStack</span>(<span class="property">alignment</span>: .<span class="property">bottomLeading</span>) {<br>
    <span class="keyword">Image</span>(<span class="string">"background"</span>)<br>
        .<span class="property">resizable</span>()<br>
        .<span class="property">aspectRatio</span>(<br>
            <span class="property">contentMode</span>: .<span class="property">fill</span><br>
        )<br>
        .<span class="property">frame</span>(<br>
            <span class="property">width</span>: <span class="string">300</span>,<br>
            <span class="property">height</span>: <span class="string">200</span><br>
        )<br>
        .<span class="property">clipped</span>()<br>
        .<span class="property">cornerRadius</span>(<span class="string">12</span>)<br>
    
    <span class="keyword">Text</span>(<span class="string">"Photo Caption"</span>)<br>
        .<span class="property">padding</span>()<br>
        .<span class="property">background</span>(<br>
            <span class="keyword">Color</span>.<span class="property">black</span>.<span class="property">opacity</span>(<span class="string">0.7</span>)<br>
        )<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
        .<span class="property">padding</span>()<br>
}
                </div>

                <div class="definition-box">
                    <h3>ZStack Use Cases:</h3>
                    <p>• Adding text overlays on images</p>
                    <p>• Creating custom buttons with backgrounds</p>
                    <p>• Building complex card layouts</p>
                    <p>• Positioning badges or notifications</p>
                </div>

                <h2>Badge Example:</h2>
                <div class="code-block">
<span class="keyword">ZStack</span>(<span class="property">alignment</span>: .<span class="property">topTrailing</span>) {<br>
    <span class="keyword">Button</span>(<span class="string">"Messages"</span>) {<br>
        <span class="comment">// Button action</span><br>
    }<br>
    .<span class="property">padding</span>()<br>
    .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
    .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
    .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    
    <span class="keyword">Circle</span>()<br>
        .<span class="property">fill</span>(<span class="keyword">Color</span>.<span class="property">red</span>)<br>
        .<span class="property">frame</span>(<br>
            <span class="property">width</span>: <span class="string">20</span>,<br>
            <span class="property">height</span>: <span class="string">20</span><br>
        )<br>
        .<span class="property">overlay</span>(<br>
            <span class="keyword">Text</span>(<span class="string">"3"</span>)<br>
                .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
                .<span class="property">font</span>(.<span class="property">caption</span>)<br>
                .<span class="property">fontWeight</span>(.<span class="property">bold</span>)<br>
        )<br>
        .<span class="property">offset</span>(<br>
            <span class="property">x</span>: <span class="string">5</span>,<br>
            <span class="property">y</span>: <span class="string">-5</span><br>
        )<br>
}
                </div>
            </div>

            <!-- Slide 8: Combining Stacks -->
            <div class="slide">
                <h1>Combining Different Stacks</h1>
                
                <h2>The Power of Nested Stacks:</h2>
                <p>Real-world apps rarely use just one type of stack. The magic happens when you combine them!</p>

                <h2>Profile Card Example:</h2>
                <div class="code-block">
<span class="keyword">VStack</span>(<span class="property">spacing</span>: <span class="string">15</span>) {<br>
    <span class="comment">// Header with profile image and info</span><br>
    <span class="keyword">HStack</span>(<span class="property">spacing</span>: <span class="string">12</span>) {<br>
        <span class="keyword">Image</span>(<span class="string">"profile"</span>)<br>
            .<span class="property">resizable</span>()<br>
            .<span class="property">frame</span>(<br>
                <span class="property">width</span>: <span class="string">60</span>,<br>
                <span class="property">height</span>: <span class="string">60</span><br>
            )<br>
            .<span class="property">clipShape</span>(<span class="keyword">Circle</span>())<br>
            .<span class="property">overlay</span>(<br>
                <span class="keyword">Circle</span>()<br>
                    .<span class="property">stroke</span>(<br>
                        <span class="keyword">Color</span>.<span class="property">blue</span>,<br>
                        <span class="property">lineWidth</span>: <span class="string">2</span><br>
                    )<br>
            )<br>
        
        <span class="keyword">VStack</span>(<br>
            <span class="property">alignment</span>: .<span class="property">leading</span>,<br>
            <span class="property">spacing</span>: <span class="string">4</span><br>
        ) {<br>
            <span class="keyword">Text</span>(<span class="string">"John Doe"</span>)<br>
                .<span class="property">font</span>(.<span class="property">headline</span>)<br>
                .<span class="property">foregroundColor</span>(.<span class="property">primary</span>)<br>
            
            <span class="keyword">Text</span>(<span class="string">"iOS Developer"</span>)<br>
                .<span class="property">font</span>(.<span class="property">caption</span>)<br>
                .<span class="property">foregroundColor</span>(.<span class="property">secondary</span>)<br>
        }<br>
        
        <span class="keyword">Spacer</span>()<br>
    }<br>
    
    <span class="comment">// Action buttons</span><br>
    <span class="keyword">HStack</span>(<span class="property">spacing</span>: <span class="string">20</span>) {<br>
        <span class="keyword">Button</span>(<span class="string">"Follow"</span>) {<br>
            <span class="comment">// Follow action</span><br>
        }<br>
        .<span class="property">padding</span>(.<span class="property">horizontal</span>, <span class="string">20</span>)<br>
        .<span class="property">padding</span>(.<span class="property">vertical</span>, <span class="string">8</span>)<br>
        .<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">blue</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">white</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
        
        <span class="keyword">Button</span>(<span class="string">"Message"</span>) {<br>
            <span class="comment">// Message action</span><br>
        }<br>
        .<span class="property">padding</span>(.<span class="property">horizontal</span>, <span class="string">20</span>)<br>
        .<span class="property">padding</span>(.<span class="property">vertical</span>, <span class="string">8</span>)<br>
        .<span class="property">background</span>(<br>
            <span class="keyword">Color</span>.<span class="property">gray</span>.<span class="property">opacity</span>(<span class="string">0.2</span>)<br>
        )<br>
        .<span class="property">foregroundColor</span>(.<span class="property">blue</span>)<br>
        .<span class="property">cornerRadius</span>(<span class="string">8</span>)<br>
    }<br>
}<br>
.<span class="property">padding</span>()<br>
.<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">white</span>)<br>
.<span class="property">cornerRadius</span>(<span class="string">12</span>)<br>
.<span class="property">shadow</span>(<span class="property">radius</span>: <span class="string">4</span>)<br>
                </div>

                <div class="tip-box">
                    <strong>💡 Design Tip:</strong> Start with the main layout (VStack or HStack), then break down each section into smaller stacks.
                </div>
            </div>

            <!-- Slide 9: Complex Layout Practice -->
            <div class="slide">
                <h1>Building a Complete Interface</h1>
                
                <h2>Social Media Post Layout:</h2>
                <div class="code-block">
<span class="keyword">VStack</span>(<br>
    <span class="property">alignment</span>: .<span class="property">leading</span>,<br>
    <span class="property">spacing</span>: <span class="string">12</span><br>
) {<br>
    <span class="comment">// Post header</span><br>
    <span class="keyword">HStack</span>(<span class="property">spacing</span>: <span class="string">10</span>) {<br>
        <span class="keyword">Image</span>(<span class="string">"user_avatar"</span>)<br>
            .<span class="property">resizable</span>()<br>
            .<span class="property">frame</span>(<br>
                <span class="property">width</span>: <span class="string">40</span>,<br>
                <span class="property">height</span>: <span class="string">40</span><br>
            )<br>
            .<span class="property">clipShape</span>(<span class="keyword">Circle</span>())<br>
        
        <span class="keyword">VStack</span>(<br>
            <span class="property">alignment</span>: .<span class="property">leading</span>,<br>
            <span class="property">spacing</span>: <span class="string">2</span><br>
        ) {<br>
            <span class="keyword">Text</span>(<span class="string">"@username"</span>)<br>
                .<span class="property">font</span>(.<span class="property">headline</span>)<br>
                .<span class="property">foregroundColor</span>(.<span class="property">primary</span>)<br>
            
            <span class="keyword">Text</span>(<span class="string">"2 hours ago"</span>)<br>
                .<span class="property">font</span>(.<span class="property">caption</span>)<br>
                .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
        }<br>
        
        <span class="keyword">Spacer</span>()<br>
        
        <span class="keyword">Button</span>(<span class="string">"⋯"</span>) {<br>
            <span class="comment">// More options</span><br>
        }<br>
        .<span class="property">font</span>(.<span class="property">title2</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
    }<br>
    
    <span class="comment">// Post content</span><br>
    <span class="keyword">Text</span>(<span class="string">"Just learned about SwiftUI stacks! 🚀"</span>)<br>
        .<span class="property">font</span>(.<span class="property">body</span>)<br>
        .<span class="property">foregroundColor</span>(.<span class="property">primary</span>)<br>
        .<span class="property">padding</span>(.<span class="property">leading</span>, <span class="string">4</span>)<br>
    
    <span class="comment">// Post image</span><br>
    <span class="keyword">ZStack</span> {<br>
        <span class="keyword">Rectangle</span>()<br>
            .<span class="property">fill</span>(<br>
                <span class="keyword">Color</span>.<span class="property">gray</span>.<span class="property">opacity</span>(<span class="string">0.3</span>)<br>
            )<br>
            .<span class="property">frame</span>(<span class="property">height</span>: <span class="string">200</span>)<br>
            .<span class="property">cornerRadius</span>(<span class="string">12</span>)<br>
        
        <span class="keyword">Text</span>(<span class="string">"📱 App Screenshot"</span>)<br>
            .<span class="property">font</span>(.<span class="property">title2</span>)<br>
            .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
    }<br>
    
    <span class="comment">// Action buttons</span><br>
    <span class="keyword">HStack</span>(<span class="property">spacing</span>: <span class="string">20</span>) {<br>
        <span class="keyword">Button</span>(<span class="string">"❤️ 42"</span>) {<br>
            <span class="comment">// Like action</span><br>
        }<br>
        .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
        
        <span class="keyword">Button</span>(<span class="string">"💬 8"</span>) {<br>
            <span class="comment">// Comment action</span><br>
        }<br>
        .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
        
        <span class="keyword">Button</span>(<span class="string">"🔄 3"</span>) {<br>
            <span class="comment">// Repost action</span><br>
        }<br>
        .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
        
        <span class="keyword">Spacer</span>()<br>
        
        <span class="keyword">Button</span>(<span class="string">"📤"</span>) {<br>
            <span class="comment">// Share action</span><br>
        }<br>
        .<span class="property">foregroundColor</span>(.<span class="property">gray</span>)<br>
    }<br>
    .<span class="property">padding</span>(.<span class="property">top</span>, <span class="string">4</span>)<br>
}<br>
.<span class="property">padding</span>()<br>
.<span class="property">background</span>(<span class="keyword">Color</span>.<span class="property">white</span>)<br>
.<span class="property">cornerRadius</span>(<span class="string">16</span>)<br>
.<span class="property">shadow</span>(<br>
    <span class="property">color</span>: <span class="keyword">Color</span>.<span class="property">black</span>.<span class="property">opacity</span>(<span class="string">0.1</span>),<br>
    <span class="property">radius</span>: <span class="string">4</span>,<br>
    <span class="property">x</span>: <span class="string">0</span>,<br>
    <span class="property">y</span>: <span class="string">2</span><br>
)
                </div>
            </div>

            <!-- Slide 10: Best Practices and Summary -->
            <div class="slide">
                <h1>Best Practices & Summary</h1>
                
                <h2>🎯 Key Takeaways:</h2>
                
                <div class="definition-box">
                    <h3>When to Use Each Stack:</h3>
                    <p><strong>VStack:</strong> Forms, lists, vertical content flow</p>
                    <p><strong>HStack:</strong> Navigation bars, button groups, horizontal layouts</p>
                    <p><strong>ZStack:</strong> Overlays, badges, background images with text</p>
                </div>

                <h2>✅ Best Practices:</h2>
                <p><strong>1. Start Simple:</strong> Begin with basic stacks, then combine them</p>
                <p><strong>2. Use Spacing Consistently:</strong> Maintain consistent spacing throughout your app</p>
                <p><strong>3. Choose Appropriate Alignment:</strong> Consider your content when selecting alignment</p>
                <p><strong>4. Use Spacer Wisely:</strong> Great for pushing content apart or filling space</p>
                <p><strong>5. Combine Stacks Thoughtfully:</strong> Plan your layout hierarchy</p>

                <h2>🚀 Practice Exercises:</h2>
                <div class="tip-box">
                    <strong>Try These Challenges:</strong><br>
                    1. Create a settings screen with VStack and HStack<br>
                    2. Build a photo gallery grid using nested HStacks<br>
                    3. Design a login form with proper spacing and alignment<br>
                    4. Create a card-based interface using ZStack
                </div>

                <h2>🔗 What's Next:</h2>
                <p>• Learn about ScrollView for scrollable content</p>
                <p>• Explore LazyVStack and LazyHStack for performance</p>
                <p>• Discover GeometryReader for custom layouts</p>
                <p>• Master List and NavigationView</p>

                <div class="definition-box">
                    <h3>Remember:</h3>
                    <p>Great interfaces are built by combining simple stacks in creative ways. Keep practicing and experimenting!</p>
                </div>
            </div>

            <!-- Slide 11: Enhanced LMS -->
            <div class="slide">
                <div class="lms-container">
                    <!-- LMS Header -->
                    <div class="lms-header">
                        <div>📚 SwiftUI Learning Management System - Chapter 6 Assessment</div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span id="currentDateTime" style="font-size: 12px;"></span>
                            <div id="sessionIndicator" class="session-indicator"></div>
                            <button onclick="openFacultySettings()" class="settings-icon" title="Faculty Settings">⚙️</button>
                        </div>

                    <!-- Security Authentication Modal -->
                    <div class="security-modal" id="securityModal">
                        <div class="security-content">
                            <div class="security-header">
                                <h3>🔒 Instructor Authentication Required</h3>
                            </div>
                            <div class="security-body">
                                <div class="security-warning">
                                    <strong>⚠️ Security Notice:</strong><br>
                                    Access to instructor features is restricted and monitored. All access attempts are logged for security purposes. Unauthorized access is prohibited.
                                </div>
                                
                                <div class="auth-form">
                                    <input type="text" id="instructorUsername" placeholder="Instructor Username" class="auth-input" autocomplete="username">
                                    <input type="password" id="instructorPasswordInput" placeholder="Instructor Password" class="auth-input" autocomplete="current-password">
                                    <div id="authError" class="auth-attempts"></div>
                                    <div id="lockoutMessage" class="lockout-message" style="display: none;"></div>
                                </div>
                                
                                <div class="security-actions">
                                    <button onclick="authenticateInstructor()" id="loginBtn" class="auth-btn">🔐 Authenticate</button>
                                    <button onclick="cancelAuthentication()" class="cancel-btn auth-btn">❌ Cancel</button>
                                </div>
                                
                                <div style="margin-top: 20px; font-size: 12px; color: #6c757d; border-top: 1px solid #eee; padding-top: 15px;">
                                    <strong>Security Features:</strong><br>
                                    • Session timeout: 30 minutes<br>
                                    • Maximum login attempts: 3<br>
                                    • Failed attempts trigger temporary lockout<br>
                                    • All access attempts are logged
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <!-- Faculty Settings Modal -->
                    <div class="settings-modal" id="settingsModal">
                        <div class="settings-content">
                            <div class="settings-header">
                                <h2>⚙️ Quiz Configuration</h2>
                                <button onclick="closeFacultySettings()" class="close-settings-btn">✕</button>
                            </div>
                            
                            <div class="settings-grid">
                                <div class="settings-section">
                                    <h3>📅 Schedule</h3>
                                    <label>Start Date:</label>
                                    <input type="datetime-local" id="quizStartDate" class="settings-input">
                                    <label>End Date:</label>
                                    <input type="datetime-local" id="quizEndDate" class="settings-input">
                                    <label>Time Limit (min):</label>
                                    <input type="number" id="quizTimeLimit" min="5" max="180" value="30" class="settings-input">
                                </div>
                                
                                <div class="settings-section">
                                    <h3>🔐 Security</h3>
                                    <label>Password:</label>
                                    <input type="password" id="quizPassword" value="swiftui2024" class="settings-input">
                                    <label>Attempts:</label>
                                    <select id="attemptsAllowed" class="settings-input">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3" selected>3</option>
                                        <option value="unlimited">Unlimited</option>
                                    </select>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" id="shuffleQuestions"> Shuffle Questions</label>
                                        <label><input type="checkbox" id="showCorrectAnswers" checked> Show Answers</label>
                                    </div>
                                </div>
                                
                                <div class="settings-section">
                                    <h3>📊 Grading</h3>
                                    <label>Passing Grade (%):</label>
                                    <input type="number" id="passingGrade" min="0" max="100" value="70" class="settings-input">
                                    <label>Feedback:</label>
                                    <select id="feedbackType" class="settings-input">
                                        <option value="detailed" selected>Detailed</option>
                                        <option value="score_only">Score Only</option>
                                        <option value="pass_fail">Pass/Fail</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="settings-actions">
                                <button onclick="saveQuizSettings()" class="settings-btn save-settings-btn">💾 Save</button>
                                <button onclick="resetQuizSettings()" class="settings-btn reset-settings-btn">🔄 Reset</button>
                                <button onclick="exportQuizSettings()" class="settings-btn export-settings-btn">📤 Export</button>
                            </div>
                        </div>
                    </div>

                    <!-- Main Content -->
                    <div id="mainContent" style="flex: 1; overflow-y: auto;">
                        <!-- Role Selection -->
                        <div class="role-selection" id="roleSelection">
                            <h2>Welcome to SwiftUI Stacks Assessment</h2>
                            <p>Please select your role to continue</p>
                            <div class="role-buttons">
                                <button onclick="selectRole('student')" class="role-button student-role">
                                    🎓 Student<br><small>Take Assessment</small>
                                </button>
                                <button onclick="selectRole('instructor')" class="role-button instructor-role">
                                    👨‍🏫 Instructor<br><small>View Dashboard</small>
                                </button>
                            </div>
                        </div>

                        <!-- Quiz Access -->
                        <div class="quiz-access" id="quizAccess" style="display: none;">
                            <div class="access-container">
                                <h3>🔐 Quiz Access</h3>
                                <div class="quiz-status" id="quizStatus">✅ Quiz is available</div>
                                
                                <div class="student-credentials">
                                    <input type="text" id="studentName" placeholder="Full Name" class="student-input" required>
                                    <input type="text" id="studentId" placeholder="Student ID" class="student-input" required>
                                    <input type="email" id="studentEmail" placeholder="Email" class="student-input" required>
                                    <input type="password" id="passwordInput" placeholder="Quiz Password" class="student-input" required>
                                </div>
                                
                                <div class="quiz-info">
                                    <div class="info-item">
                                        <span class="info-label">⏱️ Time:</span>
                                        <span id="displayTimeLimit">30 min</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">📝 Questions:</span>
                                        <span>5 Multiple Choice</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">🎯 Pass:</span>
                                        <span id="displayPassingGrade">70%</span>
                                    </div>
                                    <div class="info-item">
                                        <span class="info-label">🔄 Attempts:</span>
                                        <span id="attemptsRemaining">3</span>
                                    </div>
                                </div>
                                
                                <button onclick="validateAndStartQuiz()" id="startQuizBtn" class="access-btn">🚀 Start Quiz</button>
                                <button onclick="backToRoleSelection()" class="back-btn">← Back</button>
                            </div>
                        </div>

                        <!-- Quiz Timer -->
                        <div class="quiz-timer" id="quizTimer" style="display: none;">
                            <div class="timer-display">
                                <span>⏰</span>
                                <span id="timeRemaining" class="time-remaining">30:00</span>
                            </div>
                            <div>Time Remaining</div>
                        </div>

                        <!-- Quiz Content -->
                        <div class="quiz-content" id="quizContent" style="display: none;">
                            <div class="quiz-header">
                                <h3>SwiftUI Stacks Assessment</h3>
                                <div class="quiz-progress-info">
                                    <span>Question <span id="currentQuestionNum">1</span> of 5</span>
                                    <div class="progress-dots" id="progressDots"></div>
                                </div>
                            </div>

                            <!-- Questions -->
                            <div class="question-block" id="question1">
                                <div class="question-header">
                                    <span class="question-number">1</span>
                                    <h3>What does VStack do in SwiftUI?</h3>
                                </div>
                                <div class="options">
                                    <label class="option-label">
                                        <input type="radio" name="q1" value="a">
                                        <span>Arranges views horizontally</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q1" value="b">
                                        <span>Arranges views vertically</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q1" value="c">
                                        <span>Overlaps views</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q1" value="d">
                                        <span>Creates scrollable container</span>
                                    </label>
                                </div>
                            </div>

                            <div class="question-block" id="question2" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">2</span>
                                    <h3>Which alignment centers views in VStack horizontally?</h3>
                                </div>
                                <div class="options">
                                    <label class="option-label">
                                        <input type="radio" name="q2" value="a">
                                        <span>.leading</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q2" value="b">
                                        <span>.trailing</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q2" value="c">
                                        <span>.center</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q2" value="d">
                                        <span>.top</span>
                                    </label>
                                </div>
                            </div>

                            <div class="question-block" id="question3" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">3</span>
                                    <h3>What does Spacer() do in HStack?</h3>
                                </div>
                                <div class="options">
                                    <label class="option-label">
                                        <input type="radio" name="q3" value="a">
                                        <span>Adds fixed spacing</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q3" value="b">
                                        <span>Creates flexible space</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q3" value="c">
                                        <span>Removes spacing</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q3" value="d">
                                        <span>Centers views</span>
                                    </label>
                                </div>
                            </div>

                            <div class="question-block" id="question4" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">4</span>
                                    <h3>In ZStack, which view appears on top?</h3>
                                </div>
                                <div class="options">
                                    <label class="option-label">
                                        <input type="radio" name="q4" value="a">
                                        <span>First view in code</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q4" value="b">
                                        <span>Largest view</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q4" value="c">
                                        <span>Last view in code</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q4" value="d">
                                        <span>View with most modifiers</span>
                                    </label>
                                </div>
                            </div>

                            <div class="question-block" id="question5" style="display: none;">
                                <div class="question-header">
                                    <span class="question-number">5</span>
                                    <h3>What does spacing parameter control in VStack?</h3>
                                </div>
                                <div class="options">
                                    <label class="option-label">
                                        <input type="radio" name="q5" value="a">
                                        <span>View alignment</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q5" value="b">
                                        <span>Gap between views</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q5" value="c">
                                        <span>Padding around stack</span>
                                    </label>
                                    <label class="option-label">
                                        <input type="radio" name="q5" value="d">
                                        <span>Background color</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Navigation -->
                            <div class="quiz-navigation">
                                <button onclick="previousQuestion()" id="prevQuestionBtn" class="nav-question-btn" style="display: none;">← Previous</button>
                                <button onclick="nextQuestion()" id="nextQuestionBtn" class="nav-question-btn">Next →</button>
                                <button onclick="submitQuiz()" id="submitBtn" class="submit-btn" style="display: none;">✅ Submit</button>
                            </div>
                        </div>

                        <!-- Quiz Results -->
                        <div class="quiz-results" id="quizResults" style="display: none;">
                            <h3>📊 Quiz Results</h3>
                            <div class="score-display" id="scoreDisplay"></div>
                            <div id="feedbackDisplay"></div>
                            <div class="results-actions">
                                <button onclick="resetQuiz()" class="nav-question-btn">🔄 Retake</button>
                                <button onclick="backToRoleSelection()" class="back-btn">← Menu</button>
                            </div>
                        </div>

                        <!-- Instructor Dashboard -->
                        <div class="instructor-dashboard" id="instructorDashboard" style="display: none;">
                            <div class="dashboard-tabs">
                                <button onclick="showTab('analytics')" class="tab-btn active" id="analyticsTab">📈 Analytics</button>
                                <button onclick="showTab('students')" class="tab-btn" id="studentsTab">👥 Students</button>
                                <button onclick="showTab('security')" class="tab-btn" id="securityTab">🔒 Security</button>
                            </div>

                            <!-- Analytics Tab -->
                            <div id="analyticsContent">
                                <div class="analytics-grid">
                                    <div class="stat-card">
                                        <div class="stat-number" id="totalStudents">0</div>
                                        <div class="stat-label">Students</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number" id="averageScore">0%</div>
                                        <div class="stat-label">Average</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number" id="passRate">0%</div>
                                        <div class="stat-label">Pass Rate</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Students Tab -->
                            <div id="studentsContent" style="display: none;">
                                <div class="students-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Score</th>
                                                <th>Status</th>
                                                <th>Date</th>
                                            </tr>
                                        </thead>
                                        <tbody id="studentsTableBody">
                                            <tr><td colspan="4" style="text-align: center; padding: 20px;">No data</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Security Tab -->
                            <div id="securityContent" style="display: none;">
                                <div style="margin-bottom: 20px;">
                                    <h4>🔒 Security Overview</h4>
                                    <div class="analytics-grid">
                                        <div class="stat-card" style="background: linear-gradient(135deg, #28a745, #20c997);">
                                            <div class="stat-number" id="totalSessions">0</div>
                                            <div class="stat-label">Active Sessions</div>
                                        </div>
                                        <div class="stat-card" style="background: linear-gradient(135deg, #ffc107, #fd7e14);">
                                            <div class="stat-number" id="failedAttempts">0</div>
                                            <div class="stat-label">Failed Attempts</div>
                                        </div>
                                        <div class="stat-card" style="background: linear-gradient(135deg, #17a2b8, #6f42c1);">
                                            <div class="stat-number" id="totalLogs">0</div>
                                            <div class="stat-label">Security Events</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div class="chart-box">
                                        <h4>📊 Recent Security Events</h4>
                                        <div id="recentEvents" style="max-height: 200px; overflow-y: auto; font-size: 12px;">
                                            <div style="text-align: center; padding: 20px; color: #6c757d;">No recent events</div>
                                        </div>
                                    </div>
                                    
                                    <div class="chart-box">
                                        <h4>⚠️ Failed Login Attempts</h4>
                                        <div id="failedLoginsList" style="max-height: 200px; overflow-y: auto; font-size: 12px;">
                                            <div style="text-align: center; padding: 20px; color: #6c757d;">No failed attempts</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="text-align: center;">
                                    <button onclick="viewSecurityLog()" class="report-btn">📋 View Full Security Log</button>
                                    <button onclick="clearSecurityLog()" class="report-btn" style="background: #dc3545;">🗑️ Clear Security Log</button>
                                    <button onclick="exportSecurityLog()" class="report-btn">📤 Export Security Data</button>
                                </div>
                            </div>

                            <button onclick="backToRoleSelection()" class="back-btn">← Back</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="navigation">
                <button class="nav-button" id="prevBtn" onclick="changeSlide(-1)">Previous</button>
                <span class="slide-counter" id="slideCounter">1 / 11</span>
                <button class="nav-button" id="nextBtn" onclick="changeSlide(1)">Next</button>
            </div>
        </div>

        <!-- Simulator Panel -->
        <div class="simulator-panel">
            <div class="simulator-header">
                SwiftUI Code Simulator
            </div>
            
            <textarea class="code-editor" id="codeEditor" placeholder="Type your SwiftUI code here...">VStack(spacing: 20) {
    Text("Hello SwiftUI!")
        .font(.title)
        .foregroundColor(.blue)
    
    HStack {
        Text("Left")
            .padding()
            .background(Color.blue)
            .foregroundColor(.white)
            .cornerRadius(8)
        
        Spacer()
        
        Text("Right")
            .padding()
            .background(Color.green)
            .foregroundColor(.white)
            .cornerRadius(8)
    }
    
    ZStack {
        Circle()
            .fill(Color.purple)
            .frame(width: 100, height: 100)
        
        Text("Center")
            .foregroundColor(.white)
            .font(.headline)
    }
}</textarea>
            
            <div class="preview-area">
                <div class="phone-mockup">
                    <div class="phone-screen" id="phoneScreen">
                        <div class="vstack-demo">
                            <div class="demo-element">Hello SwiftUI!</div>
                            <div class="hstack-demo">
                                <div class="demo-element">Left</div>
                                <div class="demo-element">Right</div>
                            </div>
                            <div class="zstack-demo">
                                <div class="demo-element">Center</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer"></div>

    <script>
        let currentSlide = 0;
        const totalSlides = 11;
        let currentQuestion = 1;
        let totalQuestions = 5;
        let quizSettings = {
            startDate: '',
            endDate: '',
            timeLimit: 30,
            password: 'swiftui2024',
            attemptsAllowed: 3,
            passingGrade: 70,
            gradeVisibility: 'immediate',
            feedbackType: 'detailed',
            shuffleQuestions: false,
            showCorrectAnswers: true,
            allowReview: true
        };
        
        let studentData = JSON.parse(localStorage.getItem('studentGrades')) || [];
        let currentUserRole = null;
        let quizStartTime = null;
        let timerInterval = null;
        let timeRemaining = 0;
        let instructorSession = null;
        let sessionTimeout = null;
        
        // Security Configuration
        const SECURITY_CONFIG = {
            instructorPassword: 'InstructorPass2024!', // Should be hashed in production
            sessionDuration: 30 * 60 * 1000, // 30 minutes
            maxLoginAttempts: 3,
            lockoutDuration: 15 * 60 * 1000 // 15 minutes
        };
        
        // Security audit log
        let securityLog = JSON.parse(localStorage.getItem('securityLog')) || [];
        
        const quizData = {
            questions: [
                {
                    question: "What does VStack do in SwiftUI?",
                    correct: "b",
                    explanation: "VStack arranges views vertically from top to bottom, creating a vertical layout structure."
                },
                {
                    question: "Which alignment option centers views in a VStack horizontally?",
                    correct: "c",
                    explanation: ".center is the default alignment that centers views horizontally within a VStack container."
                },
                {
                    question: "What is the purpose of Spacer() in an HStack?",
                    correct: "b",
                    explanation: "Spacer() creates flexible space that expands to fill available area, pushing other views apart."
                },
                {
                    question: "In a ZStack, which view appears on top?",
                    correct: "c",
                    explanation: "In ZStack, views are layered in the order they appear in code - the last view appears on top."
                },
                {
                    question: "What does the spacing parameter control in a VStack?",
                    correct: "b",
                    explanation: "The spacing parameter controls the gap between each view in the stack, measured in points."
                }
            ]
        };

        // Example code snippets for each slide
        const slideExamples = [
            // Slide 1
            `VStack(spacing: 15) {
    Text("Welcome to SwiftUI!")
        .font(.largeTitle)
        .fontWeight(.bold)
        .foregroundColor(.blue)
    
    Text("Let's learn about stacks!")
        .font(.subheadline)
        .foregroundColor(.gray)
        .multilineTextAlignment(.center)
}
.padding()`,
            
            // Slide 2 - VStack
            `VStack(spacing: 20) {
    Text("First Item")
        .padding()
        .background(Color.blue)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Text("Second Item")
        .padding()
        .background(Color.green)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Text("Third Item")
        .padding()
        .background(Color.orange)
        .foregroundColor(.white)
        .cornerRadius(8)
}`,
            
            // Slide 3 - VStack Alignment
            `VStack(alignment: .leading, spacing: 15) {
    Text("Short")
        .padding()
        .background(Color.blue)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Text("Medium Length Text")
        .padding()
        .background(Color.green)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Text("This is a much longer text example")
        .padding()
        .background(Color.orange)
        .foregroundColor(.white)
        .cornerRadius(8)
}`,
            
            // Slide 4 - HStack
            `HStack(spacing: 15) {
    Text("Left")
        .padding()
        .background(Color.red)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Text("Center")
        .padding()
        .background(Color.blue)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Text("Right")
        .padding()
        .background(Color.green)
        .foregroundColor(.white)
        .cornerRadius(8)
}`,
            
            // Slide 5 - HStack with Spacer
            `HStack {
    Text("Left")
        .padding()
        .background(Color.blue)
        .foregroundColor(.white)
        .cornerRadius(8)
    
    Spacer()
    
    Text("Right")
        .padding()
        .background(Color.green)
        .foregroundColor(.white)
        .cornerRadius(8)
}
.padding()`,
            
            // Slide 6 - ZStack
            `ZStack {
    Rectangle()
        .fill(Color.blue)
        .frame(width: 120, height: 120)
        .cornerRadius(15)
    
    Text("Overlay Text")
        .font(.headline)
        .foregroundColor(.white)
        .fontWeight(.bold)
}`,
            
            // Slide 7 - ZStack Advanced
            `ZStack(alignment: .topTrailing) {
    RoundedRectangle(cornerRadius: 15)
        .fill(Color.gray.opacity(0.3))
        .frame(width: 150, height: 100)
    
    VStack(spacing: 5) {
        Text("Card Title")
            .font(.headline)
            .foregroundColor(.primary)
        
        Text("Card Content")
            .font(.caption)
            .foregroundColor(.secondary)
    }
    .padding()
    
    Circle()
        .fill(Color.red)
        .frame(width: 20, height: 20)
        .overlay(
            Text("5")
                .foregroundColor(.white)
                .font(.caption)
                .fontWeight(.bold)
        )
        .offset(x: -5, y: 5)
}`,
            
            // Slide 8 - Combined Stacks
            `VStack(spacing: 15) {
    HStack(spacing: 12) {
        Circle()
            .fill(Color.blue)
            .frame(width: 50, height: 50)
            .overlay(
                Text("JD")
                    .foregroundColor(.white)
                    .font(.headline)
                    .fontWeight(.bold)
            )
        
        VStack(alignment: .leading, spacing: 2) {
            Text("John Doe")
                .font(.headline)
                .foregroundColor(.primary)
            
            Text("iOS Developer")
                .font(.caption)
                .foregroundColor(.gray)
        }
        
        Spacer()
    }
    
    HStack(spacing: 20) {
        Button("Follow") { }
            .padding(.horizontal, 20)
            .padding(.vertical, 8)
            .background(Color.blue)
            .foregroundColor(.white)
            .cornerRadius(8)
        
        Button("Message") { }
            .padding(.horizontal, 20)
            .padding(.vertical, 8)
            .background(Color.gray.opacity(0.2))
            .foregroundColor(.blue)
            .cornerRadius(8)
    }
}
.padding()`,
            
            // Slide 9 - Complex Layout
            `VStack(alignment: .leading, spacing: 12) {
    HStack(spacing: 10) {
        Circle()
            .fill(Color.purple)
            .frame(width: 40, height: 40)
            .overlay(
                Text("U")
                    .foregroundColor(.white)
                    .font(.headline)
                    .fontWeight(.bold)
            )
        
        VStack(alignment: .leading, spacing: 2) {
            Text("@username")
                .font(.headline)
                .foregroundColor(.primary)
            
            Text("2 hours ago")
                .font(.caption)
                .foregroundColor(.gray)
        }
        
        Spacer()
    }
    
    Text("Just learned SwiftUI stacks! 🚀")
        .font(.body)
        .foregroundColor(.primary)
    
    ZStack {
        Rectangle()
            .fill(Color.gray.opacity(0.3))
            .frame(height: 100)
            .cornerRadius(12)
        
        Text("📱 App Screenshot")
            .font(.title2)
            .foregroundColor(.gray)
    }
    
    HStack(spacing: 20) {
        Text("❤️ 42")
            .foregroundColor(.gray)
        
        Text("💬 8")
            .foregroundColor(.gray)
        
        Text("🔄 3")
            .foregroundColor(.gray)
        
        Spacer()
    }
}
.padding()`,
            
            // Slide 10 - Summary
            `VStack(spacing: 25) {
    Text("SwiftUI Stacks Summary")
        .font(.largeTitle)
        .fontWeight(.bold)
        .foregroundColor(.primary)
    
    HStack(spacing: 20) {
        VStack(spacing: 8) {
            Text("VStack")
                .font(.headline)
                .foregroundColor(.blue)
            
            Text("Vertical")
                .font(.caption)
                .foregroundColor(.secondary)
        }
        .padding()
        .background(Color.blue.opacity(0.1))
        .cornerRadius(10)
        
        VStack(spacing: 8) {
            Text("HStack")
                .font(.headline)
                .foregroundColor(.green)
            
            Text("Horizontal")
                .font(.caption)
                .foregroundColor(.secondary)
        }
        .padding()
        .background(Color.green.opacity(0.1))
        .cornerRadius(10)
        
        VStack(spacing: 8) {
            Text("ZStack")
                .font(.headline)
                .foregroundColor(.orange)
            
            Text("Overlapping")
                .font(.caption)
                .foregroundColor(.secondary)
        }
        .padding()
        .background(Color.orange.opacity(0.1))
        .cornerRadius(10)
    }
    
    Text("Keep practicing! 🎯")
        .font(.title2)
        .foregroundColor(.purple)
        .fontWeight(.semibold)
}`,
            
            // Slide 11 - LMS (no code example needed)
            ``
        ];

        // Initialize System
        function initializeSystem() {
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Update session indicator every 30 seconds
            setInterval(updateSessionIndicator, 30000);
            
            loadQuizSettings();
            updateQuizStatus();
            createProgressDots();
            
            // Log system initialization
            logSecurityEvent('SYSTEM_INITIALIZED', {
                userAgent: navigator.userAgent,
                timestamp: new Date().toISOString()
            });
            
            // Add keyboard shortcuts for authentication modal
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('securityModal').style.display === 'flex') {
                    if (e.key === 'Enter') {
                        authenticateInstructor();
                    } else if (e.key === 'Escape') {
                        cancelAuthentication();
                    }
                }
            });
        }

        function updateDateTime() {
            const now = new Date();
            const dateTimeElement = document.getElementById('currentDateTime');
            if (dateTimeElement) {
                dateTimeElement.textContent = now.toLocaleDateString() + ' ' + now.toLocaleTimeString();
            }
        }

        // Slide Navigation Functions
        function changeSlide(direction) {
            const slides = document.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            
            currentSlide += direction;
            
            if (currentSlide >= totalSlides) {
                currentSlide = 0;
            } else if (currentSlide < 0) {
                currentSlide = totalSlides - 1;
            }
            
            slides[currentSlide].classList.add('active');
            updateNavigation();
            if (currentSlide < totalSlides - 1) {
                updateCodeExample();
            }
        }

        function updateNavigation() {
            document.getElementById('slideCounter').textContent = `${currentSlide + 1} / ${totalSlides}`;
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
        }

        function updateCodeExample() {
            const codeEditor = document.getElementById('codeEditor');
            if (slideExamples[currentSlide]) {
                codeEditor.value = slideExamples[currentSlide];
                updatePreview();
            }
        }

        function updatePreview() {
            const code = document.getElementById('codeEditor').value;
            const phoneScreen = document.getElementById('phoneScreen');
            
            // Simple preview generation based on code content
            let previewHTML = '';
            
            if (code.includes('VStack')) {
                previewHTML += '<div class="vstack-demo">';
                const textMatches = code.match(/Text\("([^"]+)"\)/g);
                if (textMatches) {
                    textMatches.slice(0, 3).forEach((match, index) => {
                        const text = match.match(/Text\("([^"]+)"\)/)[1];
                        previewHTML += `<div class="demo-element">${text}</div>`;
                    });
                }
                previewHTML += '</div>';
            }
            
            if (code.includes('HStack')) {
                previewHTML += '<div class="hstack-demo">';
                const textMatches = code.match(/Text\("([^"]+)"\)/g);
                if (textMatches) {
                    textMatches.slice(0, 3).forEach((match, index) => {
                        const text = match.match(/Text\("([^"]+)"\)/)[1];
                        previewHTML += `<div class="demo-element">${text}</div>`;
                    });
                }
                previewHTML += '</div>';
            }
            
            if (code.includes('ZStack')) {
                previewHTML += '<div class="zstack-demo">';
                const textMatches = code.match(/Text\("([^"]+)"\)/g);
                if (textMatches) {
                    textMatches.slice(0, 3).forEach((match, index) => {
                        const text = match.match(/Text\("([^"]+)"\)/)[1];
                        previewHTML += `<div class="demo-element">${text}</div>`;
                    });
                }
                previewHTML += '</div>';
            }
            
            if (!previewHTML) {
                previewHTML = '<div class="demo-element">Enter SwiftUI code to see preview</div>';
            }
            
            phoneScreen.innerHTML = previewHTML;
        }

        // Faculty Settings Functions
        function openFacultySettings() {
            document.getElementById('settingsModal').style.display = 'flex';
            loadSettingsToForm();
        }

        function closeFacultySettings() {
            document.getElementById('settingsModal').style.display = 'none';
        }

        function loadSettingsToForm() {
            document.getElementById('quizStartDate').value = quizSettings.startDate;
            document.getElementById('quizEndDate').value = quizSettings.endDate;
            document.getElementById('quizTimeLimit').value = quizSettings.timeLimit;
            document.getElementById('quizPassword').value = quizSettings.password;
            document.getElementById('attemptsAllowed').value = quizSettings.attemptsAllowed;
            document.getElementById('passingGrade').value = quizSettings.passingGrade;
            document.getElementById('feedbackType').value = quizSettings.feedbackType;
            document.getElementById('shuffleQuestions').checked = quizSettings.shuffleQuestions;
            document.getElementById('showCorrectAnswers').checked = quizSettings.showCorrectAnswers;
        }

        function saveQuizSettings() {
            quizSettings = {
                startDate: document.getElementById('quizStartDate').value,
                endDate: document.getElementById('quizEndDate').value,
                timeLimit: parseInt(document.getElementById('quizTimeLimit').value),
                password: document.getElementById('quizPassword').value,
                attemptsAllowed: document.getElementById('attemptsAllowed').value,
                passingGrade: parseInt(document.getElementById('passingGrade').value),
                feedbackType: document.getElementById('feedbackType').value,
                shuffleQuestions: document.getElementById('shuffleQuestions').checked,
                showCorrectAnswers: document.getElementById('showCorrectAnswers').checked,
                allowReview: true
            };
            
            localStorage.setItem('quizSettings', JSON.stringify(quizSettings));
            updateQuizDisplay();
            closeFacultySettings();
            showNotification('Quiz settings saved successfully!', 'success');
        }

        function resetQuizSettings() {
            if (confirm('Are you sure you want to reset all settings to default?')) {
                localStorage.removeItem('quizSettings');
                quizSettings = {
                    startDate: '',
                    endDate: '',
                    timeLimit: 30,
                    password: 'swiftui2024',
                    attemptsAllowed: 3,
                    passingGrade: 70,
                    feedbackType: 'detailed',
                    shuffleQuestions: false,
                    showCorrectAnswers: true,
                    allowReview: true
                };
                loadSettingsToForm();
                showNotification('Settings reset to default values', 'success');
            }
        }

        function exportQuizSettings() {
            const dataStr = JSON.stringify(quizSettings, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `quiz_settings_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('Settings exported successfully!', 'success');
        }

        // Security and Authentication Functions
        function logSecurityEvent(event, details = {}) {
            const logEntry = {
                timestamp: new Date().toISOString(),
                event: event,
                userAgent: navigator.userAgent,
                ip: 'Client-side', // In production, get from server
                details: details
            };
            
            securityLog.push(logEntry);
            
            // Keep only last 100 log entries
            if (securityLog.length > 100) {
                securityLog = securityLog.slice(-100);
            }
            
            localStorage.setItem('securityLog', JSON.stringify(securityLog));
            console.log('Security Event:', logEntry);
        }

        function getFailedAttempts() {
            const attempts = JSON.parse(localStorage.getItem('failedLoginAttempts')) || {};
            const now = Date.now();
            
            // Clean expired attempts
            for (const [key, data] of Object.entries(attempts)) {
                if (now - data.timestamp > SECURITY_CONFIG.lockoutDuration) {
                    delete attempts[key];
                }
            }
            
            localStorage.setItem('failedLoginAttempts', JSON.stringify(attempts));
            return attempts;
        }

        function recordFailedAttempt(username) {
            const attempts = getFailedAttempts();
            const key = username || 'anonymous';
            
            if (!attempts[key]) {
                attempts[key] = { count: 0, timestamp: Date.now() };
            }
            
            attempts[key].count++;
            attempts[key].timestamp = Date.now();
            
            localStorage.setItem('failedLoginAttempts', JSON.stringify(attempts));
            
            logSecurityEvent('FAILED_LOGIN_ATTEMPT', {
                username: username,
                attemptCount: attempts[key].count
            });
            
            return attempts[key].count;
        }

        function isAccountLocked(username) {
            const attempts = getFailedAttempts();
            const key = username || 'anonymous';
            
            if (attempts[key] && attempts[key].count >= SECURITY_CONFIG.maxLoginAttempts) {
                const timeSinceLock = Date.now() - attempts[key].timestamp;
                return timeSinceLock < SECURITY_CONFIG.lockoutDuration;
            }
            
            return false;
        }

        function clearFailedAttempts(username) {
            const attempts = getFailedAttempts();
            const key = username || 'anonymous';
            delete attempts[key];
            localStorage.setItem('failedLoginAttempts', JSON.stringify(attempts));
        }

        function createInstructorSession() {
            instructorSession = {
                authenticated: true,
                timestamp: Date.now(),
                expires: Date.now() + SECURITY_CONFIG.sessionDuration,
                sessionId: 'session_' + Math.random().toString(36).substr(2, 9)
            };
            
            // Set session timeout
            if (sessionTimeout) clearTimeout(sessionTimeout);
            sessionTimeout = setTimeout(() => {
                expireInstructorSession();
            }, SECURITY_CONFIG.sessionDuration);
            
            updateSessionIndicator();
            
            logSecurityEvent('SESSION_CREATED', {
                sessionId: instructorSession.sessionId,
                duration: SECURITY_CONFIG.sessionDuration
            });
        }

        function expireInstructorSession() {
            if (instructorSession) {
                logSecurityEvent('SESSION_EXPIRED', {
                    sessionId: instructorSession.sessionId,
                    duration: Date.now() - instructorSession.timestamp
                });
            }
            
            instructorSession = null;
            if (sessionTimeout) clearTimeout(sessionTimeout);
            
            updateSessionIndicator();
            
            // If user is in instructor dashboard, kick them out
            if (currentUserRole === 'instructor') {
                showNotification('Session expired. Please authenticate again.', 'warning');
                backToRoleSelection();
            }
        }

        function updateSessionIndicator() {
            const indicator = document.getElementById('sessionIndicator');
            
            if (instructorSession && instructorSession.authenticated) {
                const remainingTime = instructorSession.expires - Date.now();
                const minutes = Math.floor(remainingTime / 60000);
                
                indicator.style.display = 'block';
                indicator.textContent = `🔒 Instructor Session: ${minutes}m remaining`;
                
                if (minutes <= 5) {
                    indicator.className = 'session-indicator session-warning';
                } else {
                    indicator.className = 'session-indicator';
                }
            } else {
                indicator.style.display = 'none';
            }
        }

        function validateInstructorSession() {
            if (!instructorSession) return false;
            
            const now = Date.now();
            if (now > instructorSession.expires) {
                expireInstructorSession();
                return false;
            }
            
            return instructorSession.authenticated;
        }

        function showSecurityModal() {
            // Reset form
            document.getElementById('instructorUsername').value = '';
            document.getElementById('instructorPasswordInput').value = '';
            document.getElementById('authError').textContent = '';
            document.getElementById('lockoutMessage').style.display = 'none';
            
            // Remove error styling
            document.getElementById('instructorUsername').classList.remove('error');
            document.getElementById('instructorPasswordInput').classList.remove('error');
            
            document.getElementById('securityModal').style.display = 'flex';
            
            // Focus on username field
            setTimeout(() => {
                document.getElementById('instructorUsername').focus();
            }, 100);
        }

        function hideSecurityModal() {
            document.getElementById('securityModal').style.display = 'none';
        }

        function authenticateInstructor() {
            const username = document.getElementById('instructorUsername').value.trim();
            const password = document.getElementById('instructorPasswordInput').value;
            
            // Clear previous errors
            document.getElementById('authError').textContent = '';
            document.getElementById('instructorUsername').classList.remove('error');
            document.getElementById('instructorPasswordInput').classList.remove('error');
            
            // Validate inputs
            if (!username) {
                document.getElementById('authError').textContent = 'Username is required';
                document.getElementById('instructorUsername').classList.add('error');
                return;
            }
            
            if (!password) {
                document.getElementById('authError').textContent = 'Password is required';
                document.getElementById('instructorPasswordInput').classList.add('error');
                return;
            }
            
            // Check if account is locked
            if (isAccountLocked(username)) {
                const lockoutTime = Math.ceil(SECURITY_CONFIG.lockoutDuration / 60000);
                document.getElementById('lockoutMessage').style.display = 'block';
                document.getElementById('lockoutMessage').textContent = 
                    `Account temporarily locked due to multiple failed attempts. Please try again in ${lockoutTime} minutes.`;
                
                logSecurityEvent('BLOCKED_LOGIN_ATTEMPT', {
                    username: username,
                    reason: 'Account locked'
                });
                return;
            }
            
            // Validate credentials (In production, this should be server-side with proper hashing)
            const validCredentials = (username === 'instructor' || username === 'admin') && 
                                   password === SECURITY_CONFIG.instructorPassword;
            
            if (validCredentials) {
                // Successful authentication
                clearFailedAttempts(username);
                createInstructorSession();
                hideSecurityModal();
                
                logSecurityEvent('SUCCESSFUL_LOGIN', {
                    username: username
                });
                
                showNotification('Authentication successful! Welcome to instructor dashboard.', 'success');
                
                // Continue with instructor role selection
                proceedWithInstructorAccess();
                
            } else {
                // Failed authentication
                const attemptCount = recordFailedAttempt(username);
                
                document.getElementById('instructorUsername').classList.add('error');
                document.getElementById('instructorPasswordInput').classList.add('error');
                
                const remainingAttempts = SECURITY_CONFIG.maxLoginAttempts - attemptCount;
                
                if (remainingAttempts > 0) {
                    document.getElementById('authError').textContent = 
                        `Invalid credentials. ${remainingAttempts} attempt(s) remaining.`;
                } else {
                    document.getElementById('authError').textContent = 'Account locked due to multiple failed attempts.';
                    document.getElementById('lockoutMessage').style.display = 'block';
                    document.getElementById('lockoutMessage').textContent = 
                        `Account temporarily locked for ${Math.ceil(SECURITY_CONFIG.lockoutDuration / 60000)} minutes.`;
                }
                
                // Clear password field
                document.getElementById('instructorPasswordInput').value = '';
            }
        }

        function cancelAuthentication() {
            hideSecurityModal();
            
            logSecurityEvent('AUTHENTICATION_CANCELLED', {});
            
            // Don't proceed with instructor access
            showNotification('Authentication cancelled', 'warning');
        }

        function proceedWithInstructorAccess() {
            currentUserRole = 'instructor';
            document.getElementById('roleSelection').style.display = 'none';
            document.getElementById('instructorDashboard').style.display = 'block';
            updateInstructorDashboard();
        }

        // Enhanced role selection with security
        function selectRole(role) {
            if (role === 'student') {
                currentUserRole = role;
                document.getElementById('roleSelection').style.display = 'none';
                document.getElementById('quizAccess').style.display = 'block';
                updateQuizStatus();
                
                logSecurityEvent('STUDENT_ACCESS', {});
                
            } else if (role === 'instructor') {
                // Check if already authenticated
                if (validateInstructorSession()) {
                    proceedWithInstructorAccess();
                } else {
                    // Show authentication modal
                    showSecurityModal();
                }
            }
        }

        // Enhanced back to role selection with session cleanup
        function backToRoleSelection() {
            // Clean up instructor session if leaving instructor dashboard
            if (currentUserRole === 'instructor' && instructorSession) {
                logSecurityEvent('INSTRUCTOR_LOGOUT', {
                    sessionId: instructorSession.sessionId,
                    sessionDuration: Date.now() - instructorSession.timestamp
                });
                
                instructorSession = null;
                if (sessionTimeout) clearTimeout(sessionTimeout);
                updateSessionIndicator();
            }
            
            currentUserRole = null;
            document.getElementById('roleSelection').style.display = 'block';
            document.getElementById('quizAccess').style.display = 'none';
            document.getElementById('quizContent').style.display = 'none';
            document.getElementById('quizResults').style.display = 'none';
            document.getElementById('instructorDashboard').style.display = 'none';
            document.getElementById('quizTimer').style.display = 'none';
            resetQuiz();
        }

        // Enhanced faculty settings with session validation
        function openFacultySettings() {
            if (!validateInstructorSession()) {
                showNotification('Please authenticate as instructor to access settings', 'error');
                showSecurityModal();
                return;
            }
            
            document.getElementById('settingsModal').style.display = 'flex';
            loadSettingsToForm();
            
            logSecurityEvent('SETTINGS_ACCESSED', {
                sessionId: instructorSession.sessionId
            });
        }

        // Quiz Status and Validation
        function updateQuizStatus() {
            const now = new Date();
            const statusElement = document.getElementById('quizStatus');
            const startBtn = document.getElementById('startQuizBtn');
            
            let status = '';
            let isAvailable = true;
            
            if (quizSettings.startDate) {
                const startDate = new Date(quizSettings.startDate);
                if (now < startDate) {
                    status = `⏳ Quiz available from ${startDate.toLocaleString()}`;
                    statusElement.className = 'quiz-status';
                    isAvailable = false;
                }
            }
            
            if (quizSettings.endDate) {
                const endDate = new Date(quizSettings.endDate);
                if (now > endDate) {
                    status = `🔒 Quiz ended on ${endDate.toLocaleString()}`;
                    statusElement.className = 'quiz-status status-closed';
                    isAvailable = false;
                }
            }
            
            if (isAvailable && !status) {
                status = '✅ Quiz is available for submission';
                statusElement.className = 'quiz-status status-open';
            }
            
            statusElement.textContent = status;
            startBtn.disabled = !isAvailable;
            
            // Update display information
            document.getElementById('displayTimeLimit').textContent = `${quizSettings.timeLimit} min`;
            document.getElementById('displayPassingGrade').textContent = `${quizSettings.passingGrade}%`;
            document.getElementById('attemptsRemaining').textContent = quizSettings.attemptsAllowed;
        }

        function validateAndStartQuiz() {
            const name = document.getElementById('studentName').value.trim();
            const studentId = document.getElementById('studentId').value.trim();
            const email = document.getElementById('studentEmail').value.trim();
            const password = document.getElementById('passwordInput').value;
            
            // Validation
            if (!name) {
                showNotification('Please enter your full name', 'error');
                return;
            }
            
            if (!studentId) {
                showNotification('Please enter your Student ID', 'error');
                return;
            }
            
            if (!email || !email.includes('@')) {
                showNotification('Please enter a valid email address', 'error');
                return;
            }
            
            if (password !== quizSettings.password) {
                showNotification('Incorrect quiz password', 'error');
                return;
            }
            
            startQuiz();
        }

        function startQuiz() {
            document.getElementById('quizAccess').style.display = 'none';
            document.getElementById('quizContent').style.display = 'block';
            document.getElementById('quizTimer').style.display = 'block';
            
            // Initialize timer
            timeRemaining = quizSettings.timeLimit * 60; // Convert to seconds
            quizStartTime = new Date();
            startTimer();
            
            showNotification('Quiz started! Good luck!', 'success');
        }

        // Timer Functions
        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeRemaining--;
                updateTimerDisplay();
                
                if (timeRemaining <= 0) {
                    autoSubmitQuiz();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            const timeString = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            const timeElement = document.getElementById('timeRemaining');
            timeElement.textContent = timeString;
            
            // Update styling based on time remaining
            timeElement.className = 'time-remaining';
            if (timeRemaining <= 300) { // 5 minutes
                timeElement.className += ' time-critical';
            }
        }

        function autoSubmitQuiz() {
            clearInterval(timerInterval);
            showNotification('Time is up! Quiz submitted automatically.', 'warning');
            submitQuiz();
        }

        // Question Navigation
        function createProgressDots() {
            const dotsContainer = document.getElementById('progressDots');
            if (dotsContainer) {
                dotsContainer.innerHTML = '';
                
                for (let i = 1; i <= totalQuestions; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'progress-dot';
                    if (i === 1) dot.classList.add('current');
                    dotsContainer.appendChild(dot);
                }
            }
        }

        function updateProgressDots() {
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('current', 'answered');
                
                if (index + 1 === currentQuestion) {
                    dot.classList.add('current');
                } else if (index + 1 < currentQuestion) {
                    dot.classList.add('answered');
                }
                
                // Check if question is answered
                const answer = document.querySelector(`input[name="q${index + 1}"]:checked`);
                if (answer) {
                    dot.classList.add('answered');
                }
            });
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                document.getElementById(`question${currentQuestion}`).style.display = 'none';
                currentQuestion++;
                document.getElementById(`question${currentQuestion}`).style.display = 'block';
                updateQuestionNavigation();
                updateProgressDots();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                document.getElementById(`question${currentQuestion}`).style.display = 'none';
                currentQuestion--;
                document.getElementById(`question${currentQuestion}`).style.display = 'block';
                updateQuestionNavigation();
                updateProgressDots();
            }
        }

        function updateQuestionNavigation() {
            document.getElementById('currentQuestionNum').textContent = currentQuestion;
            document.getElementById('prevQuestionBtn').style.display = 
                currentQuestion > 1 ? 'block' : 'none';
            document.getElementById('nextQuestionBtn').style.display = 
                currentQuestion < totalQuestions ? 'block' : 'none';
            document.getElementById('submitBtn').style.display = 
                currentQuestion === totalQuestions ? 'block' : 'none';
        }

        // Quiz Submission and Results
        function submitQuiz() {
            const studentName = document.getElementById('studentName').value.trim();
            const studentId = document.getElementById('studentId').value.trim();
            const studentEmail = document.getElementById('studentEmail').value.trim();
            
            let answers = {};
            let score = 0;
            
            // Collect answers
            for (let i = 1; i <= totalQuestions; i++) {
                const answer = document.querySelector(`input[name="q${i}"]:checked`);
                if (answer) {
                    answers[`q${i}`] = answer.value;
                    if (answer.value === quizData.questions[i-1].correct) {
                        score++;
                    }
                }
            }
            
            // Check if all questions answered
            if (Object.keys(answers).length < totalQuestions) {
                if (!confirm('Some questions are not answered. Do you want to submit anyway?')) {
                    return;
                }
            }
            
            // Calculate metrics
            const endTime = new Date();
            const timeTaken = Math.round((endTime - quizStartTime) / 1000); // seconds
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Save results
            const studentResult = {
                name: studentName,
                studentId: studentId,
                email: studentEmail,
                score: score,
                totalQuestions: totalQuestions,
                percentage: percentage,
                answers: answers,
                timeTaken: timeTaken,
                timestamp: new Date().toISOString(),
                date: new Date().toLocaleDateString(),
                attempt: getAttemptNumber(studentName, studentId)
            };
            
            // Update or add student data
            const existingIndex = studentData.findIndex(s => 
                s.name.toLowerCase() === studentName.toLowerCase() || 
                s.studentId === studentId
            );
            
            if (existingIndex !== -1) {
                studentData[existingIndex] = studentResult;
            } else {
                studentData.push(studentResult);
            }
            
            localStorage.setItem('studentGrades', JSON.stringify(studentData));
            
            // Clear timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Show results
            showQuizResults(studentResult);
        }

        function getAttemptNumber(name, studentId) {
            const existing = studentData.filter(s => 
                s.name.toLowerCase() === name.toLowerCase() || 
                s.studentId === studentId
            );
            return existing.length + 1;
        }

        function showQuizResults(result) {
            document.getElementById('quizContent').style.display = 'none';
            document.getElementById('quizTimer').style.display = 'none';
            document.getElementById('quizResults').style.display = 'block';
            
            // Highlight answers if enabled
            if (quizSettings.showCorrectAnswers) {
                highlightAnswers(result.answers);
            }
            
            // Update score display
            let gradeClass = '';
            let feedback = '';
            
            if (result.percentage >= 90) {
                gradeClass = 'score-excellent';
                feedback = 'Outstanding! You have mastered SwiftUI stacks! 🌟';
            } else if (result.percentage >= 80) {
                gradeClass = 'score-good';
                feedback = 'Excellent work! You understand the concepts very well! 👍';
            } else if (result.percentage >= quizSettings.passingGrade) {
                gradeClass = 'score-good';
                feedback = 'Good job! You passed the assessment! ✅';
            } else {
                gradeClass = 'score-poor';
                feedback = 'Keep studying! Review the materials and try again. 💪';
            }
            
            document.getElementById('scoreDisplay').innerHTML = `
                <div class="score-display ${gradeClass}">
                    ${result.score}/${result.totalQuestions} (${result.percentage}%)
                </div>
            `;
            
            // Generate detailed feedback
            let feedbackHTML = `<div class="feedback-content">
                <h4>${feedback}</h4>
                <p><strong>Performance Summary:</strong></p>
                <ul>
                    <li>Time taken: ${formatTime(result.timeTaken)} out of ${quizSettings.timeLimit} minutes</li>
                    <li>Accuracy: ${result.percentage}% (${result.score} correct out of ${result.totalQuestions})</li>
                    <li>Attempt: ${result.attempt}</li>
                </ul>
            `;
            
            if (quizSettings.feedbackType === 'detailed') {
                feedbackHTML += '<div class="detailed-feedback"><h4>Question Review:</h4>';
                for (let i = 1; i <= totalQuestions; i++) {
                    const studentAnswer = result.answers[`q${i}`];
                    const correctAnswer = quizData.questions[i-1].correct;
                    const isCorrect = studentAnswer === correctAnswer;
                    
                    feedbackHTML += `
                        <div class="question-feedback">
                            <p><strong>Q${i}:</strong> ${isCorrect ? '✅ Correct' : '❌ Incorrect'}</p>
                            <p><em>${quizData.questions[i-1].explanation}</em></p>
                        </div>
                    `;
                }
                feedbackHTML += '</div>';
            }
            
            feedbackHTML += '</div>';
            document.getElementById('feedbackDisplay').innerHTML = feedbackHTML;
        }

        function highlightAnswers(studentAnswers) {
            for (let i = 1; i <= totalQuestions; i++) {
                const labels = document.querySelectorAll(`input[name="q${i}"]`);
                labels.forEach(input => {
                    const label = input.parentElement;
                    if (input.value === quizData.questions[i-1].correct) {
                        label.classList.add('correct-answer');
                    } else if (input.value === studentAnswers[`q${i}`]) {
                        label.classList.add('incorrect-answer');
                    }
                });
            }
        }

        function resetQuiz() {
            // Clear form data
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.checked = false;
                input.parentElement.classList.remove('correct-answer', 'incorrect-answer');
            });
            
            const studentNameInput = document.getElementById('studentName');
            const studentIdInput = document.getElementById('studentId');
            const studentEmailInput = document.getElementById('studentEmail');
            const passwordInput = document.getElementById('passwordInput');
            
            if (studentNameInput) studentNameInput.value = '';
            if (studentIdInput) studentIdInput.value = '';
            if (studentEmailInput) studentEmailInput.value = '';
            if (passwordInput) passwordInput.value = '';
            
            // Reset navigation
            currentQuestion = 1;
            for (let i = 1; i <= totalQuestions; i++) {
                const questionElement = document.getElementById(`question${i}`);
                if (questionElement) {
                    questionElement.style.display = i === 1 ? 'block' : 'none';
                }
            }
            
            updateQuestionNavigation();
            updateProgressDots();
            
            // Clear timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            timeRemaining = 0;
            quizStartTime = null;
        }

        // Enhanced Instructor Dashboard Functions with Security
        function updateInstructorDashboard() {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                backToRoleSelection();
                return;
            }
            
            updateAnalytics();
            updateStudentsTable();
            
            logSecurityEvent('DASHBOARD_ACCESSED', {
                sessionId: instructorSession.sessionId
            });
        }

        function showTab(tabName) {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                backToRoleSelection();
                return;
            }
            
            // Hide all tab contents
            const analyticsContent = document.getElementById('analyticsContent');
            const studentsContent = document.getElementById('studentsContent');
            const securityContent = document.getElementById('securityContent');
            
            if (analyticsContent) analyticsContent.style.display = 'none';
            if (studentsContent) studentsContent.style.display = 'none';
            if (securityContent) securityContent.style.display = 'none';
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content
            const targetContent = document.getElementById(`${tabName}Content`);
            const targetTab = document.getElementById(`${tabName}Tab`);
            
            if (targetContent) targetContent.style.display = 'block';
            if (targetTab) targetTab.classList.add('active');
            
            // Update content based on tab
            if (tabName === 'analytics') {
                updateAnalytics();
            } else if (tabName === 'students') {
                updateStudentsTable();
            } else if (tabName === 'security') {
                updateSecurityStats();
            }
            
            logSecurityEvent('TAB_ACCESSED', {
                sessionId: instructorSession.sessionId,
                tabName: tabName
            });
        }

        // Enhanced settings functions with additional security
        function saveQuizSettings() {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                closeFacultySettings();
                showSecurityModal();
                return;
            }
            
            const oldSettings = { ...quizSettings };
            
            quizSettings = {
                startDate: document.getElementById('quizStartDate').value,
                endDate: document.getElementById('quizEndDate').value,
                timeLimit: parseInt(document.getElementById('quizTimeLimit').value),
                password: document.getElementById('quizPassword').value,
                attemptsAllowed: document.getElementById('attemptsAllowed').value,
                passingGrade: parseInt(document.getElementById('passingGrade').value),
                feedbackType: document.getElementById('feedbackType').value,
                shuffleQuestions: document.getElementById('shuffleQuestions').checked,
                showCorrectAnswers: document.getElementById('showCorrectAnswers').checked,
                allowReview: true
            };
            
            localStorage.setItem('quizSettings', JSON.stringify(quizSettings));
            updateQuizDisplay();
            closeFacultySettings();
            
            logSecurityEvent('SETTINGS_MODIFIED', {
                sessionId: instructorSession.sessionId,
                changes: {
                    timeLimit: oldSettings.timeLimit !== quizSettings.timeLimit,
                    password: oldSettings.password !== quizSettings.password,
                    passingGrade: oldSettings.passingGrade !== quizSettings.passingGrade
                }
            });
            
            showNotification('Quiz settings saved successfully!', 'success');
        }

        function exportQuizSettings() {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                return;
            }
            
            const dataStr = JSON.stringify(quizSettings, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `quiz_settings_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
            
            logSecurityEvent('SETTINGS_EXPORTED', {
                sessionId: instructorSession.sessionId
            });
            
            showNotification('Settings exported successfully!', 'success');
        }

        // Add security audit function for instructors
        function viewSecurityLog() {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                return;
            }
            
            const logWindow = window.open('', '_blank');
            logWindow.document.write(`
                <html>
                <head><title>Security Audit Log</title></head>
                <body style="font-family: monospace; padding: 20px;">
                    <h2>🔒 Security Audit Log</h2>
                    <p><strong>Generated:</strong> ${new Date().toLocaleString()}</p>
                    <p><strong>Total Events:</strong> ${securityLog.length}</p>
                    <hr>
                    <pre>${JSON.stringify(securityLog, null, 2)}</pre>
                </body>
                </html>
            `);
            
            logSecurityEvent('SECURITY_LOG_ACCESSED', {
                sessionId: instructorSession.sessionId
            });
        }

        function clearSecurityLog() {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                return;
            }
            
            if (confirm('Are you sure you want to clear the security log? This action cannot be undone.')) {
                const oldLogCount = securityLog.length;
                securityLog = [];
                localStorage.setItem('securityLog', JSON.stringify(securityLog));
                
                // Log the clearing action (this will be the only entry)
                logSecurityEvent('SECURITY_LOG_CLEARED', {
                    sessionId: instructorSession.sessionId,
                    previousLogCount: oldLogCount
                });
                
                updateSecurityStats();
                showNotification('Security log cleared successfully', 'success');
            }
        }

        function exportSecurityLog() {
            if (!validateInstructorSession()) {
                showNotification('Session expired. Please authenticate again.', 'error');
                return;
            }
            
            const logData = {
                exportDate: new Date().toISOString(),
                totalEvents: securityLog.length,
                events: securityLog
            };
            
            const dataStr = JSON.stringify(logData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `security_log_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
            
            logSecurityEvent('SECURITY_LOG_EXPORTED', {
                sessionId: instructorSession.sessionId,
                eventCount: securityLog.length
            });
            
            showNotification('Security log exported successfully!', 'success');
        }

        function updateSecurityStats() {
            if (!validateInstructorSession()) return;
            
            // Update session count
            const sessionCount = instructorSession ? 1 : 0;
            const totalSessionsElement = document.getElementById('totalSessions');
            if (totalSessionsElement) {
                totalSessionsElement.textContent = sessionCount;
            }
            
            // Update failed attempts count
            const failedAttempts = getFailedAttempts();
            const totalFailedAttempts = Object.values(failedAttempts).reduce((sum, attempt) => sum + attempt.count, 0);
            const failedAttemptsElement = document.getElementById('failedAttempts');
            if (failedAttemptsElement) {
                failedAttemptsElement.textContent = totalFailedAttempts;
            }
            
            // Update total logs count
            const totalLogsElement = document.getElementById('totalLogs');
            if (totalLogsElement) {
                totalLogsElement.textContent = securityLog.length;
            }
            
            // Update recent events
            updateRecentEvents();
            updateFailedLoginsList();
        }

        function updateRecentEvents() {
            const recentEventsElement = document.getElementById('recentEvents');
            if (!recentEventsElement) return;
            
            const recentEvents = securityLog.slice(-10).reverse(); // Last 10 events, newest first
            
            if (recentEvents.length === 0) {
                recentEventsElement.innerHTML = '<div style="text-align: center; padding: 20px; color: #6c757d;">No recent events</div>';
                return;
            }
            
            const eventsHTML = recentEvents.map(event => {
                const time = new Date(event.timestamp).toLocaleString();
                const eventIcon = getEventIcon(event.event);
                return `
                    <div style="padding: 8px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between;">
                        <span>${eventIcon} ${event.event}</span>
                        <span style="color: #6c757d;">${time}</span>
                    </div>
                `;
            }).join('');
            
            recentEventsElement.innerHTML = eventsHTML;
        }

        function updateFailedLoginsList() {
            const failedLoginsElement = document.getElementById('failedLoginsList');
            if (!failedLoginsElement) return;
            
            const failedAttempts = getFailedAttempts();
            const entries = Object.entries(failedAttempts);
            
            if (entries.length === 0) {
                failedLoginsElement.innerHTML = '<div style="text-align: center; padding: 20px; color: #6c757d;">No failed attempts</div>';
                return;
            }
            
            const attemptsHTML = entries.map(([username, data]) => {
                const time = new Date(data.timestamp).toLocaleString();
                const isLocked = isAccountLocked(username);
                return `
                    <div style="padding: 8px; border-bottom: 1px solid #eee;">
                        <div style="display: flex; justify-content: space-between;">
                            <span><strong>${username}</strong></span>
                            <span style="color: ${isLocked ? '#dc3545' : '#ffc107'};">
                                ${isLocked ? '🔒 Locked' : '⚠️ ' + data.count + ' attempts'}
                            </span>
                        </div>
                        <div style="font-size: 11px; color: #6c757d;">Last attempt: ${time}</div>
                    </div>
                `;
            }).join('');
            
            failedLoginsElement.innerHTML = attemptsHTML;
        }

        function getEventIcon(eventType) {
            const icons = {
                'SYSTEM_INITIALIZED': '🚀',
                'STUDENT_ACCESS': '🎓',
                'SUCCESSFUL_LOGIN': '✅',
                'FAILED_LOGIN_ATTEMPT': '❌',
                'BLOCKED_LOGIN_ATTEMPT': '🚫',
                'AUTHENTICATION_CANCELLED': '⏹️',
                'SESSION_CREATED': '🔑',
                'SESSION_EXPIRED': '⏰',
                'INSTRUCTOR_LOGOUT': '👋',
                'SETTINGS_ACCESSED': '⚙️',
                'SETTINGS_MODIFIED': '📝',
                'SETTINGS_EXPORTED': '📤',
                'DASHBOARD_ACCESSED': '📊',
                'TAB_ACCESSED': '📂',
                'SECURITY_LOG_ACCESSED': '📋',
                'SECURITY_LOG_CLEARED': '🗑️',
                'SECURITY_LOG_EXPORTED': '💾'
            };
            return icons[eventType] || '📝';
        }

        function updateAnalytics() {
            const total = studentData.length;
            const totalScore = studentData.reduce((sum, student) => sum + student.score, 0);
            const averagePercentage = total > 0 ? Math.round((totalScore / (total * totalQuestions)) * 100) : 0;
            const passCount = studentData.filter(s => s.percentage >= quizSettings.passingGrade).length;
            const passRate = total > 0 ? Math.round((passCount / total) * 100) : 0;
            
            document.getElementById('totalStudents').textContent = total;
            document.getElementById('averageScore').textContent = `${averagePercentage}%`;
            document.getElementById('passRate').textContent = `${passRate}%`;
        }

        function updateStudentsTable() {
            const tbody = document.getElementById('studentsTableBody');
            
            if (studentData.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="4" style="text-align: center; padding: 20px; color: #6c757d;">
                            No student data available
                        </td>
                    </tr>
                `;
                return;
            }
            
            tbody.innerHTML = studentData.map(student => `
                <tr>
                    <td>${student.name}</td>
                    <td>${student.score}/${student.totalQuestions} (${student.percentage}%)</td>
                    <td>
                        <span style="color: ${student.percentage >= quizSettings.passingGrade ? '#28a745' : '#dc3545'};">
                            ${student.percentage >= quizSettings.passingGrade ? 'Passed' : 'Failed'}
                        </span>
                    </td>
                    <td>${new Date(student.timestamp).toLocaleDateString()}</td>
                </tr>
            `).join('');
        }

        function showTab(tabName) {
            // Hide all tab contents
            const analyticsContent = document.getElementById('analyticsContent');
            const studentsContent = document.getElementById('studentsContent');
            
            if (analyticsContent) analyticsContent.style.display = 'none';
            if (studentsContent) studentsContent.style.display = 'none';
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content
            const targetContent = document.getElementById(`${tabName}Content`);
            const targetTab = document.getElementById(`${tabName}Tab`);
            
            if (targetContent) targetContent.style.display = 'block';
            if (targetTab) targetTab.classList.add('active');
            
            // Update content based on tab
            if (tabName === 'analytics') {
                updateAnalytics();
            } else if (tabName === 'students') {
                updateStudentsTable();
            }
        }

        // Utility Functions
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.classList.add('show'), 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function loadQuizSettings() {
            const saved = localStorage.getItem('quizSettings');
            if (saved) {
                quizSettings = { ...quizSettings, ...JSON.parse(saved) };
            }
        }

        function updateQuizDisplay() {
            updateQuizStatus();
        }

        // Initialize the system when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeSystem();
            updateNavigation();
            updateCodeExample();
            
            // Update preview when code changes
            const codeEditor = document.getElementById('codeEditor');
            if (codeEditor) {
                codeEditor.addEventListener('input', updatePreview);
            }
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    changeSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeSlide(1);
                }
            });
        });
    </script>
</body>
</html>
